(this["webpackJsonpcuvee-taste-generator"]=this["webpackJsonpcuvee-taste-generator"]||[]).push([[0],{197:function(e,t,a){e.exports=a(314)},202:function(e,t,a){},314:function(e,t,a){"use strict";a.r(t),a.d(t,"fire",(function(){return P})),a.d(t,"db",(function(){return V}));var n=a(1),r=a.n(n),i=a(45),c=a.n(i);a(202),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(55),s=a(56),o=a(36),u=a(62),d=a(60),m=a(94),h=a(48),b=(a(203),a(189)),f=a(63),v=a.n(f),p=a(95),y=a(337),E=a(334),g=a(336),k=a(348),w=a(352),j=a(335),O=function(e){return r.a.createElement(k.a,{in:!0,timeout:700},r.a.createElement(E.a,{item:!0,onClick:function(){return e.handleSubmit(e.value)}},r.a.createElement(w.a,null,r.a.createElement(j.a,null,r.a.createElement(E.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement("div",{className:"image-container"},r.a.createElement("img",{className:"question-image",alt:"a food that corresponds to the current question",src:"/"+e.imageUrl})),r.a.createElement(g.a,{className:"card-title",variant:"h4"},e.food))))))},S=a(176),C=a.n(S),q=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={questions:[],currentQuestion:0},n.handleSubmit=n.handleSubmit.bind(Object(o.a)(n)),n.incrementcurrentQuestion=n.incrementCurrentQuestion.bind(Object(o.a)(n)),n.handleKeyDown=n.handleKeyDown.bind(Object(o.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,V.collection("questions").get();case 3:e.sent.forEach((function(e){return t.push(e.data())})),t=C()(t),this.setState({questions:t});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"incrementCurrentQuestion",value:function(){var e=this.state.currentQuestion;this.setState({currentQuestion:e+1})}},{key:"handleKeyDown",value:function(e){37===e.keyCode?this.handleSubmit("pos"):39===e.keyCode&&this.handleSubmit("neg")}},{key:"handleSubmit",value:function(e){var t=this.state.questions[this.state.currentQuestion],a=Object(b.a)({},this.props.results);a[t.category]=("pos"===e?1:0)+a[t.category],this.props.setResults(a),this.state.currentQuestion<this.state.questions.length-1?this.incrementCurrentQuestion():this.props.history.push("/taste-profile")}},{key:"render",value:function(){var e=this,t=this.state.questions[this.state.currentQuestion];return this.state.questions.length?r.a.createElement("div",{tabIndex:0,onKeyDown:function(t){return e.handleKeyDown(t)}},r.a.createElement(y.a,null,r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",spacing:5,id:"quiz"},r.a.createElement(O,{value:"pos",imageUrl:t.posImage,handleSubmit:this.handleSubmit,food:t.pos}),r.a.createElement(E.a,{item:!0},r.a.createElement(O,{value:"neg",imageUrl:t.negImage,handleSubmit:this.handleSubmit,food:t.neg}))),r.a.createElement("div",{id:"quiz-footer"},r.a.createElement(g.a,{variant:"h5"},this.state.currentQuestion+1,"/21")))):r.a.createElement("div",null,"Loading...")}}]),a}(n.Component),W=Object(h.f)(q),L=a(345),x=a(338),Q=function(e){return r.a.createElement(L.a,{onChange:e.tabHandler,id:"tabs",value:e.selectedWine,indicatorColor:"primary",centered:!0},r.a.createElement(x.a,{label:e.tabLabel("Riesling","Germany"),value:"riesling"}),r.a.createElement(x.a,{label:e.tabLabel("Sauvignon Blanc","Sancerre"),value:"sancerre"}),r.a.createElement(x.a,{label:e.tabLabel("Chardonnay","Napa Valley"),value:"chardonnay"}),r.a.createElement(x.a,{label:e.tabLabel("Cabernet Sauvignon","Napa Valley"),value:"napa-cab"}),r.a.createElement(x.a,{label:e.tabLabel("Malbec","Argentina"),value:"malbec"}),r.a.createElement(x.a,{label:e.tabLabel("Pinot Noir","Burgundy"),value:"red-burgundy"}))},R=a(347),I=a(350),K=a(355),z=a(343),N=a(351),B=function(e){return r.a.createElement("div",{id:"chart-container"},r.a.createElement(R.a,{polar:!0,theme:I.a.material,id:"chart",height:400,width:400},r.a.createElement(K.a,{colorScale:["gold","dodgerblue"],style:{data:{fillOpacity:.3}},domain:{y:[0,1]}},r.a.createElement(z.a,{data:e.data,animate:{duration:700}}),e.selectedWine&&r.a.createElement(z.a,{data:e.selectedWine,animate:{duration:700}})),r.a.createElement(N.a,null)))};var D=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).maxima={acid:5,tannin:5,earth:5,fruit:5,oak:3,body:3},n.state={data:{},selectedWine:null,wines:{}},n.tabHandler=n.tabHandler.bind(Object(o.a)(n)),n}return Object(s.a)(a,[{key:"formatResults",value:function(e){var t=this;return e.fruit=e.flavor,e.earth=5-e.flavor,delete e.flavor,Object.keys(e).map((function(a){return{x:a,y:e[a]/t.maxima[a]}}))}},{key:"tabHandler",value:function(e,t){this.setState({selectedWine:t})}},{key:"tabLabel",value:function(e,t){return r.a.createElement("div",null,r.a.createElement(g.a,null,e),r.a.createElement("hr",null),r.a.createElement(g.a,null,t))}},{key:"componentDidMount",value:function(){var e=Object(p.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.formatResults(this.props.results),a={},e.next=4,V.collection("wines").get();case 4:e.sent.forEach((function(e){return a[e.id]=e.data()[e.id]})),this.setState({data:t,wines:a});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.wines[this.state.selectedWine];return this.state.data.length?r.a.createElement(y.a,null,r.a.createElement(Q,{tabHandler:this.tabHandler,tabLabel:this.tabLabel,selectedWine:this.state.selectedWine}),r.a.createElement(B,{data:this.state.data,selectedWine:e}),r.a.createElement(g.a,{variant:"h5",id:"results-header"},function(e){var t={};switch(e.oak){case 0:t.oak="no";break;case 1:t.oak="minimal";break;case 2:t.oak="some";break;case 3:t.oak="plenty of"}switch(e.body){case 0:case 1:t.body="light";break;case 2:t.body="medium";break;case 3:t.body="full"}switch(e.acid){case 0:t.acid="very low";break;case 1:t.acid="low";break;case 2:t.acid="medium-low";break;case 3:t.acid="medium";break;case 4:t.acid="medium-high";break;case 5:t.acid="high"}switch(e.tannin){case 0:t.tannin="very low";break;case 1:t.tannin="low";break;case 2:t.tannin="medium-low";break;case 3:t.tannin="medium";break;case 4:t.tannin="medium-high";break;case 5:t.tannin="high"}return t.flavor=e.fruit>e.earth?"fruit":"earth","You like ".concat(t.flavor,"-driven, ").concat(t.body,"-bodied wines with ").concat(t.acid," acid, ").concat(t.tannin," tannin, and ").concat(t.oak," oak influence!")}(this.props.results))):r.a.createElement("div",null,"Loading")}}]),a}(n.Component),H=a(341),M=Object(h.f)((function(e){return r.a.createElement("div",{id:"home"},r.a.createElement("h1",{id:"home-header"},"Welcome to Cuvee!"),r.a.createElement("p",{id:"home-content"},"Let's face it: Unless you're a sommelier, ordering wine in a restaurant can be daunting. That's where Cuvee comes in. Our short, simple quiz will give you a custom taste profile so you'll know exactly what kind of wine you like, and how to order it!"),r.a.createElement(H.a,{id:"quiz-button",variant:"contained",color:"primary",onClick:function(){return e.history.push("/quiz")},fullWidth:!1},"Take the Quiz!"))})),T=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={results:{acid:0,tannin:0,body:0,oak:0,flavor:0}},e.setResults=e.setResults.bind(Object(o.a)(e)),e}return Object(s.a)(a,[{key:"setResults",value:function(e){this.setState({results:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{id:"header"},r.a.createElement("h2",{id:"logo"},"cuvee"),r.a.createElement("h3",{className:"nav-item"},"Wine Palate Generator")),r.a.createElement(m.a,null,r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/quiz",render:function(){return r.a.createElement(W,{setResults:e.setResults,results:e.state.results})}}),r.a.createElement(h.a,{path:"/taste-profile",render:function(){return r.a.createElement(D,{results:e.state.results})}}),r.a.createElement(h.a,{path:"/",component:M}))))}}]),a}(n.Component),U=a(132),F=(a(312),a(342)),G=a(188),A=Object(G.a)({palette:{primary:{main:"#FFC0CB"}},typography:{fontFamily:["Raleway","sans-serif"].join(",")}}),P=U.initializeApp({apiKey:"AIzaSyBSKB5Vhb4YtKFnEx-_Nep7ST9rRZwfK5k",authDomain:"cuvee-taste-generator.firebaseapp.com",databaseURL:"https://cuvee-taste-generator.firebaseio.com",projectId:"cuvee-taste-generator",storageBucket:"cuvee-taste-generator.appspot.com",messagingSenderId:"585829094239",appId:"1:585829094239:web:88e7871387dc80be8fdcea",measurementId:"G-MN0TGKPTYE"}),V=U.firestore();c.a.render(r.a.createElement(F.a,{theme:A}," ",r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[197,1,2]]]);
//# sourceMappingURL=main.d74131e2.chunk.js.map